# 实时语音翻译助手

一个Chrome浏览器扩展，可以实时识别外语视频语音并翻译成中文字幕显示。

## 🚀 功能特性

- 🎤 实时语音识别
- 🌐 自动语言检测
- 📝 即时中文翻译
- 🎬 视频字幕叠加显示
- ⚙️ 可配置的翻译API
- 🔧 智能错误处理和用户反馈

## 📦 安装说明

### 1. 开发者模式安装

1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目文件夹
6. 插件安装完成

### 2. 权限配置

插件需要以下权限：
- 🎤 **麦克风权限**：用于语音识别
- 🌐 **网络权限**：用于调用翻译API
- 📄 **页面访问权限**：用于显示字幕

## ⚙️ 配置说明

### 百度翻译API配置

1. 访问 [百度翻译开放平台](https://fanyi-api.baidu.com/)
2. 注册账号并创建应用
3. 获取 `APP ID` 和 `密钥`
4. 点击插件图标打开设置面板
5. 输入API配置信息

## 🎯 使用方法

### 基本使用

1. **启动插件**
   - 点击浏览器工具栏中的插件图标
   - 或使用快捷键启动

2. **授权麦克风**
   - 首次使用时会请求麦克风权限
   - 点击"允许"以启用语音识别

3. **开始翻译**
   - 播放外语视频或对着麦克风说话
   - 插件会自动识别语音并显示翻译

4. **查看字幕**
   - 翻译结果会以字幕形式显示在页面上
   - 字幕位置可自动调整

### 状态指示

插件会显示不同的状态信息：

- 🚀 **正在启动语音翻译...** - 插件正在初始化
- 🎤 **正在监听语音...** - 等待语音输入
- 🔄 **正在翻译: "..."** - 正在处理翻译
- ✅ **翻译结果** - 显示翻译内容
- 🗣️ **中文内容** - 检测到中文，无需翻译
- ⏹️ **语音翻译已停止** - 插件已停止

### 错误提示

- ❌ **麦克风权限被拒绝** - 需要允许麦克风访问
- ❌ **无法访问麦克风** - 检查设备连接
- ❌ **网络错误** - 检查网络连接
- ❌ **翻译失败** - 检查API配置

## 🧪 测试功能

### 使用测试页面

1. 打开 `test-page.html` 文件
2. 按照页面说明进行测试
3. 检查各项功能是否正常

### 手动测试

建议测试以下英语短语：
- "Hello, how are you today?"
- "This is a test of the speech recognition system."
- "The weather is very nice today."
- "I love learning new languages."
- "Technology makes our lives easier."

## 🔧 故障排除

### 常见问题

**Q: 插件无法启动？**
A: 检查以下项目：
- 插件是否正确安装
- 是否允许了麦克风权限
- 浏览器是否支持语音识别

**Q: 无法识别语音？**
A: 可能的原因：
- 麦克风未正常工作
- 环境噪音过大
- 语音不够清晰
- 网络连接问题

**Q: 翻译不准确？**
A: 建议：
- 说话清晰、语速适中
- 避免方言和俚语
- 检查API配置是否正确

**Q: 字幕显示异常？**
A: 尝试：
- 刷新页面重新加载插件
- 检查页面CSS是否冲突
- 调整浏览器缩放比例

### 调试信息

开发者可以通过以下方式获取调试信息：

1. 打开浏览器开发者工具 (F12)
2. 查看Console标签页的日志信息
3. 检查Network标签页的API请求

## 🔄 最近更新

### v1.0.0 (当前版本)

**新增功能：**
- ✅ 完整的语音识别功能
- ✅ 百度翻译API集成
- ✅ 智能错误处理
- ✅ 用户友好的状态反馈
- ✅ 麦克风权限管理
- ✅ 测试页面和调试工具

**修复问题：**
- 🔧 修复了麦克风权限问题
- 🔧 改进了错误提示信息
- 🔧 优化了用户反馈机制
- 🔧 增强了异步操作处理

## 📁 项目结构

```
├── manifest.json          # 扩展配置文件
├── src/
│   ├── background.js      # 后台脚本
│   ├── content.js         # 内容脚本
│   ├── content.css        # 样式文件
│   └── popup/
│       ├── popup.html     # 弹窗页面
│       ├── popup.css      # 弹窗样式
│       └── popup.js       # 弹窗脚本
├── icons/                 # 图标文件
├── test-page.html         # 测试页面
└── README.md             # 说明文档
```

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用 MIT 许可证。

## 📞 支持

如果您遇到问题或有建议，请：
1. 查看故障排除部分
2. 使用测试页面进行诊断
3. 提交Issue描述问题

---

**享受实时语音翻译的便利！** 🎉